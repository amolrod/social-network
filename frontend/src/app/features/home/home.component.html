<div class="home-container">
  <!-- Header de bienvenida -->
  <div class="welcome-header">
    <h1>¬°Hola, {{ currentUser()?.fullName || 'Usuario' }}! üëã</h1>
    <p class="subtitle">Bienvenido a tu feed de SocialNet</p>
  </div>

  <!-- Grid layout: Feed + Sidebar -->
  <div class="home-grid">
    <!-- Columna principal: Feed -->
    <div class="feed-column">
      <!-- Componente para crear posts -->
      <app-create-post (postCreated)="onPostCreated($event)"></app-create-post>

      <!-- Estado de carga -->
      @if (isLoading() && posts().length === 0) {
        <div class="loading-container">
          <div class="spinner"></div>
          <p>Cargando posts...</p>
        </div>
      }

      <!-- Error -->
      @if (error()) {
        <div class="card error-card">
          <h3>Error</h3>
          <p>{{ error() }}</p>
          <button class="btn btn-primary" (click)="loadPosts(1)">Reintentar</button>
        </div>
      }

      <!-- Lista de posts -->
      <div class="posts-container">
        @if (posts().length === 0 && !isLoading() && !error()) {
          <div class="card empty-state">
            <h3>üìù No hay posts todav√≠a</h3>
            <p>S√© el primero en publicar algo</p>
          </div>
        }

        @for (post of posts(); track post.id) {
          <app-post-card
            [post]="post"
            (deletePost)="onDeletePost($event)"
          ></app-post-card>
        }

        @if (hasMore() && !isLoading()) {
          <div class="load-more-container">
            <button class="btn btn-secondary" (click)="loadMore()">
              Cargar m√°s posts
            </button>
          </div>
        }

        @if (isLoading() && posts().length > 0) {
          <div class="loading-more">
            <div class="spinner"></div>
            <p>Cargando m√°s posts...</p>
          </div>
        }
      </div>
    </div>

    <!-- Columna lateral: Widgets (solo desktop) -->
    <aside class="widgets-column">
      <div class="card widget">
        <h3>Sugerencias para ti</h3>
        <p class="widget-subtitle">Usuarios que quiz√°s conozcas</p>
        <div class="suggestions-list">
          <div class="suggestion-item">
            <div class="suggestion-avatar">JS</div>
            <div class="suggestion-info">
              <p class="suggestion-name">John Smith</p>
              <p class="suggestion-username">@johnsmith</p>
            </div>
            <button class="btn-follow">Seguir</button>
          </div>
          <div class="suggestion-item">
            <div class="suggestion-avatar">MD</div>
            <div class="suggestion-info">
              <p class="suggestion-name">Mar√≠a D√≠az</p>
              <p class="suggestion-username">@mariadiaz</p>
            </div>
            <button class="btn-follow">Seguir</button>
          </div>
          <div class="suggestion-item">
            <div class="suggestion-avatar">AL</div>
            <div class="suggestion-info">
              <p class="suggestion-name">Alex L√≥pez</p>
              <p class="suggestion-username">@alexlopez</p>
            </div>
            <button class="btn-follow">Seguir</button>
          </div>
        </div>
      </div>

      <div class="card widget">
        <h3>Tendencias</h3>
        <div class="trending-list">
          <div class="trending-item">
            <p class="trending-tag">#Angular18</p>
            <p class="trending-count">2.5K posts</p>
          </div>
          <div class="trending-item">
            <p class="trending-tag">#WebDevelopment</p>
            <p class="trending-count">1.8K posts</p>
          </div>
          <div class="trending-item">
            <p class="trending-tag">#TypeScript</p>
            <p class="trending-count">1.2K posts</p>
          </div>
        </div>
      </div>
    </aside>
  </div>
</div>
